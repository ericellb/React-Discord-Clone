(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{142:function(e,t,a){e.exports=a(202)},151:function(e,t,a){},199:function(e,t){},202:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),s=a(12),i=a.n(s),o=a(9),l=a(127),u=a(41),m=a(133),E=a(268),d=(a(151),a(14)),p=a.n(d),v=a(23),f=a(119),g=a.n(f).a.create({baseURL:"https://simple-chat-apix.herokuapp.com"});!function(e){e[e.RECEIVE_SOCKET_MESSAGE=0]="RECEIVE_SOCKET_MESSAGE",e[e.RECEIVE_SOCKET_PRIVATE_MESSAGE=1]="RECEIVE_SOCKET_PRIVATE_MESSAGE",e[e.RECEIVE_SOCKET_JOIN_VOICE=2]="RECEIVE_SOCKET_JOIN_VOICE",e[e.RECEIVE_SOCKET_RTC_SIGNAL=3]="RECEIVE_SOCKET_RTC_SIGNAL",e[e.RECEIVE_SOCKET_LEAVE_VOICE=4]="RECEIVE_SOCKET_LEAVE_VOICE",e[e.SEND_SOCKET_MESSAGE=5]="SEND_SOCKET_MESSAGE",e[e.SEND_SOCKET_PRIVATE_MESSAGE=6]="SEND_SOCKET_PRIVATE_MESSAGE",e[e.SEND_SOCKET_JOIN_VOICE=7]="SEND_SOCKET_JOIN_VOICE",e[e.SEND_SOCKET_RTC_SIGNAL=8]="SEND_SOCKET_RTC_SIGNAL",e[e.SEND_SOCKET_LEAVE_VOICE=9]="SEND_SOCKET_LEAVE_VOICE",e[e.ADD_SERVER=10]="ADD_SERVER",e[e.ADD_PRIVATE_MESSAGE=11]="ADD_PRIVATE_MESSAGE",e[e.ADD_CHANNEL=12]="ADD_CHANNEL",e[e.CHANGE_CHANNEL=13]="CHANGE_CHANNEL",e[e.CHANGE_SERVER=14]="CHANGE_SERVER",e[e.CHANGE_VIEW=15]="CHANGE_VIEW",e[e.CHANGE_PM_USER=16]="CHANGE_PM_USER",e[e.CLEAR_VOICE_CONNECTION=17]="CLEAR_VOICE_CONNECTION",e[e.UPDATE_ACTIVE_USERS=18]="UPDATE_ACTIVE_USERS",e[e.UPDATE_ACTIVE_STATE=19]="UPDATE_ACTIVE_STATE",e[e.SIGN_IN=20]="SIGN_IN",e[e.SIGN_OUT=21]="SIGN_OUT",e[e.GET_INITIAL_DATA=22]="GET_INITIAL_DATA"}(n||(n={}));var b=function(e){return{type:n.SEND_SOCKET_MESSAGE,payload:e}},h=function(e){return{type:n.SEND_SOCKET_PRIVATE_MESSAGE,payload:e}},O=function(e){return{type:n.SEND_SOCKET_JOIN_VOICE,payload:e}},C=function(e){return{type:n.SEND_SOCKET_RTC_SIGNAL,payload:e}},y=function(e){return{type:n.SEND_SOCKET_LEAVE_VOICE,payload:e}},N=function(){return{type:n.CLEAR_VOICE_CONNECTION,payload:null}},S=function(e){return{type:n.ADD_CHANNEL,payload:e}},I=function(e){return{type:n.ADD_SERVER,payload:e}},j=function(e){return function(){var t=Object(v.a)(p.a.mark(function t(a){var r;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.get("/server/activeusers?serverId=".concat(e));case 2:r=t.sent,a({type:n.UPDATE_ACTIVE_USERS,payload:r.data});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},_=function(){return{type:n.UPDATE_ACTIVE_STATE,payload:null}},T=function(e){return function(t){t(j(e.split("-")[1])),t({type:n.CHANGE_SERVER,payload:e})}},A=function(e){return{type:n.CHANGE_CHANNEL,payload:e}},x=function(e){return{type:n.CHANGE_VIEW,payload:e}},k=function(e){return{type:n.CHANGE_PM_USER,payload:e}},V=function(e){return function(){var t=Object(v.a)(p.a.mark(function t(a){var r,c;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="/user/data?userId=".concat(e),t.next=3,g.get(r);case 3:c=t.sent,a(j(Object.keys(c.data.servers)[0].split("-")[1])),a({type:n.GET_INITIAL_DATA,payload:c.data});case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},R=function(e){return{type:n.SIGN_IN,payload:e}},D=function(){return{type:n.SIGN_OUT,payload:null}},w=a(26),M=Object(w.b)(),L=a(6),G=a(206),P=a(272);function K(e){var t=e.content,a=e.visible,n=e.setVisible;return c.a.createElement(P.a,{open:a,message:t,anchorOrigin:{vertical:"bottom",horizontal:"left"},onEntered:function(){setTimeout(function(){n(!1)},2500)}})}var U=a(236),H=a(204),J=a(238),B=a(239),W=a(56),z=a(240),F=a(242),X=a(243),Y=a(241);function q(){var e=Object(o.c)(function(e){return e.chat}).privateMessages,t=Object(o.c)(function(e){return e.user}),a=Object.keys(e),n=Object(o.b)();return c.a.createElement("div",{className:"channels-container"},c.a.createElement(U.a,{className:"channel-list"},c.a.createElement(H.a,{className:"title-container"},"Home"),a.map(function(e,t){return c.a.createElement(J.a,{direction:"right",in:!0,timeout:200*(t+1),key:t},c.a.createElement(H.a,{button:!0,className:"user-item",onClick:function(){return n(k(e))}},c.a.createElement(B.a,null," ",c.a.createElement("img",{className:"user",src:"/React-Discord-Clone/user.png",alt:"user icon",height:"48"})," "),c.a.createElement(W.a,{variant:"body1",className:"user-list-name"},e)))})),c.a.createElement("div",{className:"user-options"},c.a.createElement(H.a,{className:"user-info"},c.a.createElement(z.a,null,c.a.createElement(B.a,null,c.a.createElement(Y.a,null))),c.a.createElement(F.a,{primary:t.userName}),c.a.createElement(X.a,{onClick:function(){localStorage.clear(),n(D())}},"Sign out"))))}var $,Q,Z,ee=a(246),te=a(247),ae=a(273),ne=a(245),re=a(134),ce=a(249),se={iceServers:[{urls:"stun:stun.services.mozilla.com"},{urls:"stun:stun.l.google.com:19302"}]};function ie(e){var t=Object(o.c)(function(e){return e.chat}),a=Object.keys(t.servers[t.activeServer].channels),n=t.activeServer,s=t.activeChannel,i=t.voiceClients,l=t.voiceJoinUserId,u=t.rtcSignalData,m=t.voiceLeaveUserId,E=Object(o.b)(),d=Object(o.c)(function(e){return e.user}),f=e.setDrawerVisible,b=e.setModalVisible,h=e.setModalType,S=e.handleSnackMessage,I=Object(r.useState)(null),j=Object(L.a)(I,2),_=j[0],T=j[1],x=Object(r.useState)(null),k=Object(L.a)(x,2),V=k[0],R=k[1],w=Object(r.useState)(!1),M=Object(L.a)(w,2),G=M[0],P=M[1];Object(r.useEffect)(function(){function e(){return(e=Object(v.a)(p.a.mark(function e(){var t,a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.split("-")[1],e.next=3,g.get("/server/admin?serverId=".concat(t,"&userId=").concat(d.userId));case 3:a=e.sent,P(a.data);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[n,d]);var K=function(e){h(e),b(!0)},q=function(e,t){"server"===t?T(e.currentTarget):"channel"===t&&R(e.currentTarget)},ie=function(){T(null),R(null)};Object(r.useEffect)(function(){navigator.mediaDevices.getUserMedia&&d.isSignedIn&&navigator.mediaDevices.getUserMedia({audio:!0}).then(function(e){$=e})},[d.isSignedIn]),Object(r.useEffect)(function(){if("voice"===s.split("-")[0]){var e={userId:d.userId,userName:d.userName,channelId:s.split("-")[1]};oe(),E(O(e)),Q=s}else{var t;t=Q?{userId:d.userId,userName:d.userName,channelId:Q.split("-")[1]}:{userId:d.userId,userName:d.userName,channelId:s.split("-")[1]},E(y(t)),E(N()),de()}Q=s},[s]),Object(r.useEffect)(function(){l&&i&&le(l,i)},[l,i]),Object(r.useEffect)(function(){var e=u.userId;""!==l&&me(e,u)},[u,l]),Object(r.useEffect)(function(){""!==m&&ue(m)},[m]);var oe=function(){var e=document.createElement("div");e.id="audiosContainer";var t=document.createElement("div");t.innerHTML='\n    <div class="user-voice-item">\n      <div class="user-voice-avatar">\n        <img src='.concat("/React-Discord-Clone/user.png",' alt="user icon" height="38" />\n      </div>\n      <div class="user-voice-name">\n        ').concat(d.userName,"\n      </div>\n    </div>\n    ");var a=document.createElement("audio");a.srcObject=$,a.autoplay=!0,a.controls=!1,a.muted=!0,t.appendChild(a),e.appendChild(t);var n=document.getElementById(s.split("-")[0]);n&&n.parentNode&&n.parentNode.insertBefore(e,n.nextSibling)},le=function(e,t){t.forEach(function(e){Z[e.userId]||(Z[e.userId]=new RTCPeerConnection(se),Z[e.userId].onicecandidate=function(t){null!==t.candidate&&E(C({userId:e.userId,ice:t.candidate}))},Z[e.userId].onaddstream=function(t){Ee(t,e.userId,e.userName)},Z[e.userId].addStream($))}),e!==d.userId&&Z[e].createOffer().then(function(t){Z[e].setLocalDescription(t).then(function(){E(C({userId:e,sdp:Z[e].localDescription}))}).catch(function(e){return console.log(e)})})},ue=function(e){Z[e].close(),Z[e]=null;var t=document.querySelector('[data-socket="'+e+'"]').parentElement;t.parentElement.removeChild(t)},me=function(e,t){e!==d.userId&&(t.sdp&&Z[e].setRemoteDescription(new RTCSessionDescription(t.sdp)).then(function(){"offer"===t.sdp.type&&Z[e].createAnswer().then(function(t){Z[e].setLocalDescription(t).then(function(){E(C({userId:e,sdp:Z[e].localDescription}))}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)}),t.ice&&Z[e].addIceCandidate(new RTCIceCandidate(t.ice)).catch(function(e){return console.log(e)}))},Ee=function(e,t,a){var n=document.createElement("div");n.innerHTML='\n    <div class="user-voice-item">\n      <div class="user-voice-avatar">\n        <img src='.concat("/React-Discord-Clone/user.png",' alt="user icon" height="38" />\n      </div>\n      <div class="user-voice-name">\n        ').concat(d.userName,"\n      </div>\n    </div>\n    ");var r=document.createElement("audio");r.setAttribute("data-socket",t),r.srcObject=e.stream,r.autoplay=!0;var c=document.getElementById("audiosContainer");n.appendChild(r),c.appendChild(n)},de=function(){var e=document.getElementById("audiosContainer");e&&(e.outerHTML=""),Z&&Z.forEach(function(e){Z[e].close()}),Z=[]};return c.a.createElement("div",{className:"channels-container"},c.a.createElement(U.a,{className:"channel-list"},c.a.createElement(H.a,{className:"title-container"},n.split("-")[0],G?c.a.createElement(c.a.Fragment,null,c.a.createElement(ae.a,{title:"Server Settings",key:"server-settings",placement:"right",className:"tooltip"},c.a.createElement(ne.a,{onClick:function(e){return q(e,"server")}}," ",c.a.createElement(ee.a,null)," "))):null),a.map(function(e,t){return c.a.createElement(J.a,{direction:"right",in:!0,timeout:200*(t+1),key:e+n},c.a.createElement(H.a,{onClick:function(t){return function(e){E(A(e)),"undefined"!==typeof f&&f(!1)}(e)},button:!0,className:"channel-item",id:"".concat(e.split("-")[0])},c.a.createElement(W.a,{variant:"body1"},c.a.createElement("i",{className:"channel-hashtag"},"#"),e.split("-")[0].toLowerCase()),G?c.a.createElement(ae.a,{title:"Server Settings",key:"server-settings",placement:"right",className:"tooltip"},c.a.createElement(ne.a,{onClick:function(e){return q(e,"channel")}}," ",c.a.createElement(te.a,{className:"channel-settings"})," ")):null))})),c.a.createElement("div",{className:"user-options"},c.a.createElement(H.a,{className:"user-info"},c.a.createElement(z.a,null,c.a.createElement(B.a,null,c.a.createElement(Y.a,null))),c.a.createElement(F.a,{primary:d.userName}),c.a.createElement(X.a,{onClick:function(){localStorage.clear(),E(D())}},"Sign out"))),c.a.createElement(re.a,{id:"server-settings-menu",anchorEl:_,open:Boolean(_),onClick:ie,onClose:ie},c.a.createElement(ce.a,{onClick:function(){return e=n.split("-")[1],navigator.clipboard.writeText(e),void S("Server ID ".concat(e," saved to clipboard"),!1);var e}}," ","Server Id - ",n.split("-")[1]," "),c.a.createElement(ce.a,{onClick:function(){return K("server-rename")}}," Change Server Name "),c.a.createElement(ce.a,{onClick:function(){return K("server-delete")}}," Delete Server "),c.a.createElement(ce.a,{onClick:function(){return K("channel-create")}}," Add Channel ")),c.a.createElement(re.a,{id:"channel-settings-menu",anchorEl:V,open:Boolean(V),onClick:ie,onClose:ie},c.a.createElement(ce.a,{onClick:function(){return K("channel-rename")}}," Change Channel Name "),c.a.createElement(ce.a,{onClick:function(){return e=function(){return K("channel-delete")},void(1===a.length?S("Please delete the server if only 1 channel",!1):e());var e}}," ","Delete Channel"," ")))}var oe=a(250),le=a(251),ue=a(252);function me(e){var t=Object(o.c)(function(e){return e.chat}),a=Object.keys(t.servers),n=Object(o.b)(),r=e.setModalVisible,s=e.setModalType,i=function(e,t){n(x(e)),void 0!==t&&t()};return c.a.createElement("div",{className:"servers-container"},c.a.createElement(U.a,null,c.a.createElement(ae.a,{title:"Home",key:"home",placement:"right",className:"tooltip"},c.a.createElement(ne.a,{className:"home-icon",onClick:function(){return i("home")}},c.a.createElement(oe.a,null))),c.a.createElement("div",{className:"menu-seperator"}),a.map(function(e){return c.a.createElement(ae.a,{title:e.split("-")[0],key:e,placement:"right",className:"tooltip"},c.a.createElement(ne.a,{className:"server-icon",onClick:function(){return i("servers",function(){return function(e){n(T(e))}(e)})}},c.a.createElement(le.a,null)))}),c.a.createElement(ae.a,{title:"Create Server",key:"create-server",placement:"right",className:"tooltip"},c.a.createElement(ne.a,{className:"server-icon",onClick:function(){return i("servers",function(){return s("server-create-join"),void r(!0)})}},c.a.createElement(ue.a,null)))))}var Ee=a(253),de=a(254),pe=a(255),ve=a(256),fe=a(257),ge=a(269),be=a(89),he=a(258),Oe=a(259);function Ce(e){var t=Object(o.c)(function(e){return e.user}).userId,a=Object(o.c)(function(e){return e.chat}),n=a.activeServer,s=a.activeChannel,i=Object(o.b)(),l=e.handleSnackMessage,u=e.modalType,m=Object(r.useState)(!0),E=Object(L.a)(m,2),d=E[0],f=E[1],b=Object(r.useState)("left"),h=Object(L.a)(b,2),O=h[0],C=h[1],y=Object(r.useState)(!1),N=Object(L.a)(y,2),j=N[0],_=N[1],T=Object(r.useState)("left"),A=Object(L.a)(T,2),x=A[0],k=A[1],V=Object(r.useState)(!1),R=Object(L.a)(V,2),D=R[0],w=R[1],M=Object(r.useState)("left"),G=Object(L.a)(M,2),P=G[0],K=G[1],U=Object(r.useState)(""),H=Object(L.a)(U,2),B=H[0],z=H[1],F=Object(r.useState)(""),Y=Object(L.a)(F,2),q=Y[0],$=Y[1],Q=Object(r.useState)(""),Z=Object(L.a)(Q,2),ee=Z[0],te=Z[1],ae=function(){var e=Object(v.a)(p.a.mark(function e(t,a){var n,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.post("/server/create?serverName=".concat(t,"&userId=").concat(a));case 3:n=e.sent,i(I(n.data)),r="Server ".concat(n.data.server.split("-")[0]," with ID ").concat(n.data.server.split("-")[1]," created"),l(r,!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),l(e.t0.response.data,!1);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t,a){return e.apply(this,arguments)}}(),ne=function(){var e=Object(v.a)(p.a.mark(function e(t,a){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.post("/server/join?serverId=".concat(t,"&userId=").concat(a));case 3:n=e.sent,l(n.data,!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),l(e.t0.response.data,!1);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,a){return e.apply(this,arguments)}}(),re=function(){var e=Object(v.a)(p.a.mark(function e(a,n){var r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.post("/server/rename?serverName=".concat(a,"&serverId=").concat(n,"&userId=").concat(t));case 3:r=e.sent,l(r.data,!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),l(e.t0.response.data,!1);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,a){return e.apply(this,arguments)}}(),ce=function(){var e=Object(v.a)(p.a.mark(function e(t,a){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.delete("/server/delete?serverId=".concat(t,"&userId=").concat(a));case 3:n=e.sent,l(n.data,!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),l(e.t0.response.data,!1);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,a){return e.apply(this,arguments)}}(),se=function(){var e=Object(v.a)(p.a.mark(function e(a,n){var r,c;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.post("/channel/create?channelName=".concat(a,"&server=").concat(n,"&userId=").concat(t));case 3:r=e.sent,i(S(r.data)),c="Server ".concat(r.data.channel.split("-")[0]," with ID ").concat(r.data.channel.split("-"[1])," created"),l(c,!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),l(e.t0.response.data,!1);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t,a){return e.apply(this,arguments)}}(),ie=function(){var e=Object(v.a)(p.a.mark(function e(a,r){var c;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.post("/channel/rename?channelName=".concat(a,"&channelId=").concat(r,"&serverId=").concat(n.split("-")[1],"&userId=").concat(t));case 3:c=e.sent,l(c.data,!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),l(e.t0.response.data,!1);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,a){return e.apply(this,arguments)}}(),oe=function(){var e=Object(v.a)(p.a.mark(function e(a,r){var c;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.delete("/channel/delete?channelId=".concat(r,"&serverId=").concat(n.split("-")[1],"&userId=").concat(t));case 3:c=e.sent,l(c.data,!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),l(e.t0.response.data,!1);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,a){return e.apply(this,arguments)}}(),le=function(e,t){"Enter"===e.key&&t()};return"server-create-join"===u?c.a.createElement(be.a,{className:"container-prompt"},c.a.createElement(J.a,{direction:O,in:d,timeout:500,mountOnEnter:!0,unmountOnExit:!0},c.a.createElement(Ee.a,{container:!0,spacing:3,justify:"center",alignItems:"center"},c.a.createElement(Ee.a,{item:!0,xs:12},c.a.createElement(W.a,{variant:"h5",color:"primary",align:"center"},"Another server? Wow you're popular!")),c.a.createElement(Ee.a,{item:!0,sm:6,xs:12},c.a.createElement(de.a,{className:"grid-card"},c.a.createElement(pe.a,{onClick:function(){return C("right"),K("left"),_(!0),void f(!1)}},c.a.createElement(ve.a,null,c.a.createElement(W.a,{variant:"h5",color:"primary",gutterBottom:!0},"Create"),c.a.createElement(W.a,{variant:"body1",paragraph:!0},"Create a server and invite all your buddies."),c.a.createElement(fe.a,null,c.a.createElement(he.a,{className:"modal-card-icon"})),c.a.createElement(X.a,{variant:"contained",color:"primary",className:"modal-button"},"Join a server"))))),c.a.createElement(Ee.a,{item:!0,sm:6,xs:12},c.a.createElement(de.a,{className:"grid-card"},c.a.createElement(pe.a,{onClick:function(){return C("right"),k("left"),w(!0),void f(!1)}},c.a.createElement(ve.a,null,c.a.createElement(W.a,{variant:"h5",color:"secondary",gutterBottom:!0},"Join"),c.a.createElement(W.a,{variant:"body1",paragraph:!0},"Join a friends server and pwn some noobs!"),c.a.createElement(fe.a,null,c.a.createElement(Oe.a,{className:"modal-card-icon"})),c.a.createElement(X.a,{variant:"contained",color:"secondary",className:"modal-button"},"Join a server"))))))),c.a.createElement(J.a,{direction:x,in:j,mountOnEnter:!0,unmountOnExit:!0,timeout:500},c.a.createElement(Ee.a,{container:!0,spacing:3,justify:"center",alignItems:"center"},c.a.createElement(Ee.a,{item:!0,xs:12},c.a.createElement(W.a,{variant:"h5",color:"primary",align:"center"},"Create a Server!")),c.a.createElement(Ee.a,{item:!0,xs:12,className:"grid-textfield"},c.a.createElement(W.a,{variant:"body1",paragraph:!0}," ","Enter a Server Name to create a server and get access to unlimited chat channels!"," "),c.a.createElement(ge.a,{id:"create-server-field",label:"Server Name",value:B,onChange:function(e){return z(e.target.value)},onKeyPress:function(e){return le(e,function(){return ae(B,t)})},margin:"dense",variant:"outlined",autoComplete:"off"})),c.a.createElement(Ee.a,{item:!0,xs:12,className:"grid-button"},c.a.createElement(X.a,{className:"modal-button",variant:"contained",color:"primary",onClick:function(){return ae(B,t)}},"Create Server")))),c.a.createElement(J.a,{direction:P,in:D,mountOnEnter:!0,unmountOnExit:!0,timeout:500},c.a.createElement(Ee.a,{container:!0,spacing:3,justify:"center",alignItems:"center"},c.a.createElement(Ee.a,{item:!0,xs:12},c.a.createElement(W.a,{variant:"h5",color:"primary",align:"center"},"Join a Server!")),c.a.createElement(Ee.a,{item:!0,xs:12,className:"grid-textfield"},c.a.createElement(W.a,{variant:"body1",paragraph:!0}," ","Enter a the Server Id provided by your friend and start chatting right now!"," "),c.a.createElement(ge.a,{id:"join-server-field",label:"Server Id",value:q,onChange:function(e){return $(e.target.value)},onKeyPress:function(e){return le(e,function(){return ne(q,t)})},margin:"dense",variant:"outlined",autoComplete:"off"})),c.a.createElement(Ee.a,{item:!0,xs:12,className:"grid-button"},c.a.createElement(X.a,{className:"modal-button",variant:"contained",color:"primary",onClick:function(){return ne(q,t)}},"Join Server"))))):"channel-create"===u?c.a.createElement(be.a,{className:"container-prompt"},c.a.createElement(J.a,{direction:"left",in:!0,mountOnEnter:!0,unmountOnExit:!0,timeout:500},c.a.createElement(Ee.a,{container:!0,spacing:3,justify:"center",alignItems:"center"},c.a.createElement(Ee.a,{item:!0,xs:12},c.a.createElement(W.a,{variant:"h5",color:"primary",align:"center"},"Create a Channel!")),c.a.createElement(Ee.a,{item:!0,xs:12,className:"grid-textfield"},c.a.createElement(W.a,{variant:"body1",paragraph:!0}," ","Enter a Channel Name for your new channel and start chatting right now!"," "),c.a.createElement(ge.a,{id:"create-channel-field",label:"Channel Name",value:ee,onChange:function(e){return te(e.target.value)},onKeyPress:function(e){return le(e,function(){return se(ee,n)})},margin:"dense",variant:"outlined",autoComplete:"off"})),c.a.createElement(Ee.a,{item:!0,xs:12,className:"grid-button"},c.a.createElement(X.a,{className:"modal-button",variant:"contained",color:"primary",onClick:function(){return se(ee,n)}},"Create Channel"))))):"server-rename"===u?c.a.createElement(be.a,{className:"container-prompt"},c.a.createElement(J.a,{direction:"left",in:!0,mountOnEnter:!0,unmountOnExit:!0,timeout:500},c.a.createElement(Ee.a,{container:!0,spacing:3,justify:"center",alignItems:"center"},c.a.createElement(Ee.a,{item:!0,xs:12},c.a.createElement(W.a,{variant:"h5",color:"primary",align:"center"},"Rename Server")),c.a.createElement(Ee.a,{item:!0,xs:12,className:"grid-textfield"},c.a.createElement(W.a,{variant:"body1",paragraph:!0}," ","Enter a new Server Name for Server - ",n.split("-")[0]," "),c.a.createElement(ge.a,{id:"create-channel-field",label:"Channel Name",value:B,onChange:function(e){return z(e.target.value)},onKeyPress:function(e){return le(e,function(){return re(B,n.split("-")[1])})},margin:"dense",variant:"outlined",autoComplete:"off"})),c.a.createElement(Ee.a,{item:!0,xs:12,className:"grid-button"},c.a.createElement(X.a,{className:"modal-button",variant:"contained",color:"primary",onClick:function(){return re(B,n.split("-")[1])}},"Rename Server"))))):"channel-rename"===u?c.a.createElement(be.a,{className:"container-prompt"},c.a.createElement(J.a,{direction:"left",in:!0,mountOnEnter:!0,unmountOnExit:!0,timeout:500},c.a.createElement(Ee.a,{container:!0,spacing:3,justify:"center",alignItems:"center"},c.a.createElement(Ee.a,{item:!0,xs:12},c.a.createElement(W.a,{variant:"h5",color:"primary",align:"center"},"Rename Chanel")),c.a.createElement(Ee.a,{item:!0,xs:12,className:"grid-textfield"},c.a.createElement(W.a,{variant:"body1",paragraph:!0}," ","Enter a new Channel Name for Channel - ",s.split("-")[0]," "),c.a.createElement(ge.a,{id:"create-channel-field",label:"Channel Name",value:ee,onChange:function(e){return te(e.target.value)},onKeyPress:function(e){return le(e,function(){return ie(ee,s.split("-")[1])})},margin:"dense",variant:"outlined",autoComplete:"off"})),c.a.createElement(Ee.a,{item:!0,xs:12,className:"grid-button"},c.a.createElement(X.a,{className:"modal-button",variant:"contained",color:"primary",onClick:function(){return ie(ee,s.split("-")[1])}},"Rename Channel"))))):"channel-delete"===u?c.a.createElement(be.a,{className:"container-prompt"},c.a.createElement(J.a,{direction:"left",in:!0,mountOnEnter:!0,unmountOnExit:!0,timeout:500},c.a.createElement(Ee.a,{container:!0,spacing:3,justify:"center",alignItems:"center"},c.a.createElement(Ee.a,{item:!0,xs:12},c.a.createElement(W.a,{variant:"h5",color:"primary",align:"center"},"Delete Channel")),c.a.createElement(Ee.a,{item:!0,xs:12,className:"grid-textfield"},c.a.createElement(W.a,{variant:"body1",paragraph:!0}," ","Are you sure you want to delete - ",s.split("-")[0]," ")),c.a.createElement(Ee.a,{item:!0,xs:12,className:"grid-button"},c.a.createElement(X.a,{className:"modal-button",variant:"contained",color:"primary",style:{backgroundColor:"green",marginRight:"8px"},onClick:function(){return oe(ee,s.split("-")[1])}},"Yes"),c.a.createElement(X.a,{className:"modal-button",variant:"contained",color:"primary",style:{backgroundColor:"red",marginLeft:"8px"},onClick:function(){return l("Not deleting channel",!1)}},"No"))))):"server-delete"===u?c.a.createElement(be.a,{className:"container-prompt"},c.a.createElement(J.a,{direction:"left",in:!0,mountOnEnter:!0,unmountOnExit:!0,timeout:500},c.a.createElement(Ee.a,{container:!0,spacing:3,justify:"center",alignItems:"center"},c.a.createElement(Ee.a,{item:!0,xs:12},c.a.createElement(W.a,{variant:"h5",color:"primary",align:"center"},"Delete Server")),c.a.createElement(Ee.a,{item:!0,xs:12,className:"grid-textfield"},c.a.createElement(W.a,{variant:"body1",paragraph:!0}," ","Are you sure you want to delete - ",n.split("-")[0]," ")),c.a.createElement(Ee.a,{item:!0,xs:12,className:"grid-button"},c.a.createElement(X.a,{className:"modal-button",variant:"contained",color:"primary",style:{backgroundColor:"green",marginRight:"8px"},onClick:function(){return ce(n.split("-")[1],t)}},"Yes"),c.a.createElement(X.a,{className:"modal-button",variant:"contained",color:"primary",style:{backgroundColor:"red",marginLeft:"8px"},onClick:function(){return l("Not deleting channel",!1)}},"No"))))):null}function ye(e){var t=Object(o.c)(function(e){return e.user}),a=Object(o.c)(function(e){return e.chat}).activeView,n=Object(o.b)(),s=e.setDrawerVisible,i=Object(r.useState)(!1),l=Object(L.a)(i,2),u=l[0],m=l[1],E=Object(r.useState)(""),d=Object(L.a)(E,2),p=d[0],v=d[1],f=Object(r.useState)(""),g=Object(L.a)(f,2),b=g[0],h=g[1],O=Object(r.useState)(!1),C=Object(L.a)(O,2),y=C[0],N=C[1],S=function(e,a){null!==e&&(m(!1),N(!0),h(e),a&&n(V(t.userId)))};return c.a.createElement("div",{className:"sidebar-container"},c.a.createElement(me,{setModalVisible:m,setModalType:v}),"servers"===a?c.a.createElement(ie,{setDrawerVisible:s,setModalVisible:m,setModalType:v,handleSnackMessage:S}):c.a.createElement(q,null),c.a.createElement(G.a,{open:u,"aria-labelledby":"server create modal","aria-describedby":"create a server",className:"modal-wrapper",onClose:function(){return m(!1)}},c.a.createElement(Ce,{handleSnackMessage:S,modalType:p})),c.a.createElement(K,{visible:y,setVisible:N,content:b}))}var Ne=a(260),Se=(a(169),a(132)),Ie=a(125),je=a.n(Ie);function _e(){var e=Object(o.c)(function(e){return e.chat}),t=e.activeServer,a=e.activeChannel,n=e.activeView,s=e.activePMUser,i=Object(o.c)(function(e){return e.user}).userName,l=Object(o.b)(),u=Object(r.useState)(""),m=Object(L.a)(u,2),E=m[0],d=m[1],p=Object(r.useState)(!1),v=Object(L.a)(p,2),f=v[0],g=v[1],O=Object(r.useState)(""),C=Object(L.a)(O,2),y=C[0],N=C[1];function S(e){(function(e){var t=!0;return""===e.trim()&&(t=!1),t})(e.msg)&&(e.msg=e.msg.replace(/(\r\n|\r|\n){3,}/g,"$1\n\n"),"servers"===n&&"channelMessage"===e.type?l(b(e)):"home"===n&&"privateMessage"===e.type&&l(h(e)),d(""))}return Object(r.useEffect)(function(){"servers"===n?N(a.split("-")[0]):"home"===n&&N(s)},[n,a,s]),window.onclick=function(e){String(e.target.className).includes("send-message-emoji-menu")&&g(!1)},c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"send-message-border"}),c.a.createElement("div",{className:"send-message-container"},c.a.createElement(Ne.a,{"aria-label":"empty textarea",placeholder:"Message  #".concat(y),className:"message-text-area",value:E,onChange:function(e){return function(e){"\n"!==e.target.value&&d(e.target.value)}(e)},onKeyPress:function(e){return function(e){"Enter"!==e.key||e.shiftKey||("servers"===n?S({server:t,channel:a,from:i,msg:E,type:"channelMessage"}):"home"===n&&S({from:i,to:s,msg:E,type:"privateMessage"}))}(e)}}),c.a.createElement(je.a,{className:"send-message-emoji-button",onClick:function(){return g(!f)}})),c.a.createElement("div",{className:f?"send-message-emoji-menu show":"send-message-emoji-menu hide"},c.a.createElement("div",{className:"emoji-wrapper"},c.a.createElement(Se.a,{set:"emojione",onSelect:function(e){return function(e){d(E+e.native),g(!1)}(e)}}))))}var Te=a(262),Ae=a(263),xe=a(126),ke=a.n(xe),Ve=a(271),Re=a(265),De=a(53),we=a(248),Me=a(261),Le=Object(Me.a)(function(e){return{card:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",width:250,background:"#2f3136"},cardHeader:{background:"#202225",width:"100%"},image:{marginTop:"1em",marginBottom:"8px"},cardInput:{padding:"1em"},input:{height:"38px"}}});function Ge(e){var t=Object(o.c)(function(e){return e.user}),a=Object(o.b)(),n=e.userName,s=e.setUserInfoVisible,i=Le(),l=Object(r.useState)(""),u=Object(L.a)(l,2),m=u[0],E=u[1];return c.a.createElement(de.a,{className:i.card},c.a.createElement("div",{className:i.cardHeader},c.a.createElement("img",{src:"/React-Discord-Clone/user.png",alt:"user-icon",className:i.image}),c.a.createElement(W.a,{variant:"body1",gutterBottom:!0},n)),c.a.createElement("div",{className:i.cardInput},c.a.createElement(ge.a,{id:"user-private-message",label:"Private message",placeholder:"Message @ ".concat(n),value:m,onChange:function(e){return E(e.target.value)},onKeyPress:function(e){return function(e,t){"Enter"===e.key&&t()}(e,function(){return function(e,n){var r={from:t.userName,msg:e,to:n};a(h(r)),a(x("home")),a(k(r.to.toLowerCase())),s(!1)}(m,n)})},variant:"outlined",InputProps:{className:i.input},InputLabelProps:{shrink:!0}})))}function Pe(){var e=Object(o.c)(function(e){return e.chat}).activeUserList,t=Object(r.useState)(!1),a=Object(L.a)(t,2),n=a[0],s=a[1],i=Object(r.useState)(""),l=Object(L.a)(i,2),u=l[0],m=l[1],E=Object(r.useState)(null),d=Object(L.a)(E,2),p=d[0],v=d[1];return c.a.createElement("div",{className:"user-list-container"},c.a.createElement(U.a,{className:"users-list"},c.a.createElement(H.a,{className:"users-list-title"}," Active Users "),e.map(function(e){return c.a.createElement(H.a,{button:!0,className:"user-list-item",onClick:function(t){return function(e,t){m(t),s(!0),v(e.currentTarget)}(t,e.user_name)}},c.a.createElement(z.a,{className:"message-user-icon"},c.a.createElement(B.a,null,c.a.createElement("img",{src:"/React-Discord-Clone/user.png",alt:"user icon",height:"48"}),c.a.createElement("div",{className:"user-list-online"}))),c.a.createElement(F.a,null,e.user_name))})),c.a.createElement(we.a,{id:"user-info",open:n,anchorEl:p,onClose:function(){s(!1),v(null)},anchorOrigin:{vertical:"bottom",horizontal:"right"}},c.a.createElement(Ge,{userName:u,setUserInfoVisible:s})))}function Ke(){var e=Object(o.c)(function(e){return e.chat}),t=e.activeChannel,a=e.activePMUser,n=e.activeView,s=Object(r.useState)(!1),i=Object(L.a)(s,2),l=i[0],u=i[1],m=Object(r.useState)(!1),E=Object(L.a)(m,2),d=E[0],p=E[1],v=Object(r.useState)(""),f=Object(L.a)(v,2),g=f[0],b=f[1];return Object(r.useEffect)(function(){"servers"===n?b(t.split("-")[0].toLowerCase()):"home"===n&&b(a)},[n,a,t]),c.a.createElement(Te.a,{position:"static",className:"appbar"},c.a.createElement(Ae.a,{className:"navbar"},c.a.createElement(ne.a,{edge:"start",color:"inherit","aria-label":"menu",className:"menu-burger-button",onClick:function(){return u(!0)}},c.a.createElement(ke.a,null)),c.a.createElement(Ve.a,{anchor:"left",open:l,onClose:function(){return u(!1)},onOpen:function(){return u(!0)}},c.a.createElement(ye,{setDrawerVisible:u})),c.a.createElement(Ve.a,{anchor:"right",open:d,onClose:function(){return p(!1)},onOpen:function(){return p(!0)}},c.a.createElement(Pe,null)),c.a.createElement(W.a,{variant:"h6"},g," "),c.a.createElement(Re.a,{href:"https://github.com/ericellb/React-Discord-Clone",target:"_blank",style:{color:"white"}},c.a.createElement(ae.a,{title:"Check me out on Github!",className:"tooltip"},c.a.createElement(ne.a,null,c.a.createElement(De.a,null,c.a.createElement("path",{d:"M12.007 0C6.12 0 1.1 4.27.157 10.08c-.944 5.813 2.468 11.45 8.054 13.312.19.064.397.033.555-.084.16-.117.25-.304.244-.5v-2.042c-3.33.735-4.037-1.56-4.037-1.56-.22-.726-.694-1.35-1.334-1.756-1.096-.75.074-.735.074-.735.773.103 1.454.557 1.846 1.23.694 1.21 2.23 1.638 3.45.96.056-.61.327-1.178.766-1.605-2.67-.3-5.462-1.335-5.462-6.002-.02-1.193.42-2.35 1.23-3.226-.327-1.015-.27-2.116.166-3.09 0 0 1.006-.33 3.3 1.23 1.966-.538 4.04-.538 6.003 0 2.295-1.5 3.3-1.23 3.3-1.23.445 1.006.49 2.144.12 3.18.81.877 1.25 2.033 1.23 3.226 0 4.607-2.805 5.627-5.476 5.927.578.583.88 1.386.825 2.206v3.29c-.005.2.092.393.26.507.164.115.377.14.565.063 5.568-1.88 8.956-7.514 8.007-13.313C22.892 4.267 17.884.007 12.008 0z"})))))))}var Ue=a(266),He=a(264),Je=a(86),Be=a.n(Je);function We(){var e=Object(o.c)(function(e){return e.chat}),t=e.activeServer,a=e.activeChannel,n=e.activeView,s=e.activePMUser,i=Object(r.useState)(!1),l=Object(L.a)(i,2),u=l[0],m=l[1],E=Object(r.useState)(12),d=Object(L.a)(E,2),p=d[0],v=d[1],f=Object(r.useState)(!1),g=Object(L.a)(f,2),b=g[0],h=g[1],O=Object(r.useState)(""),C=Object(L.a)(O,2),y=C[0],N=C[1],S=Object(r.useState)(null),I=Object(L.a)(S,2),j=I[0],_=I[1],T=document.getElementById("messagesContainerBottom"),A=document.getElementById("messagesContainer"),x=[],k=0;"servers"===n?(x=e.servers[t].channels[a],k=x.length):(void 0===(x=e.privateMessages[s])&&(x=[]),k=x.length),Object(r.useEffect)(function(){T&&A&&(b?A.scroll(0,60):T.scrollIntoView({block:"end",behavior:"smooth"}))},[b,x,A,T]);var V=function(e){return e.split("```")[1]},R=function(e,t){N(t),m(!0),_(e.currentTarget)};return Object(r.useEffect)(function(){PR.prettyPrint()}),c.a.createElement("div",{id:"messagesContainer",className:"messages-container",onScroll:function(e){return function(e){var t=e.target;t.scrollTop>60&&h(!1),0===t.scrollTop&&k>p&&setTimeout(function(){h(!0),v(p+12>k?k:p+12)},400)}(e)},ref:function(e){return A=e}},k>=p?c.a.createElement("div",{className:"progress-container"},c.a.createElement(Ue.a,{color:"primary"})):null,c.a.createElement(U.a,null,null!==x?x.slice(k-p,k).map(function(e,t){return c.a.createElement(He.a,{in:!0,timeout:500},c.a.createElement(H.a,{className:"message",key:t},c.a.createElement(z.a,{className:"message-user-icon"},c.a.createElement(B.a,null,c.a.createElement("img",{onClick:function(t){return R(t,e.from)},src:"/React-Discord-Clone/user.png",alt:"user icon",height:"48"}))),function(e){return!(!e.startsWith("```")||!e.endsWith("```"))}(e.msg)?c.a.createElement(F.a,{primary:c.a.createElement("div",{className:"message-user",onClick:function(t){return R(t,e.from)}},e.from.toLowerCase(),c.a.createElement("div",{className:"message-date"}," - ".concat(Be()(e.date).format("LLL")))),secondary:c.a.createElement("pre",{className:"prettyprint"},c.a.createElement("div",{dangerouslySetInnerHTML:{__html:V(e.msg)}})),className:"message-text"}):c.a.createElement(F.a,{primary:c.a.createElement("div",{className:"message-user",onClick:function(t){return R(t,e.from)}},e.from.toLowerCase(),c.a.createElement("div",{className:"message-date"}," - ".concat(Be()(e.date).format("LLL")))),secondary:e.msg,className:"message-text"})))}):null),c.a.createElement("div",{ref:function(e){return T=e},id:"messagesContainerBottom"}),c.a.createElement(we.a,{id:"user-info",open:u,anchorEl:j,onClose:function(){m(!1),_(null)},anchorOrigin:{vertical:"bottom",horizontal:"right"}},c.a.createElement(Ge,{userName:y,setUserInfoVisible:m})))}function ze(){var e=Object(o.c)(function(e){return e.user}),t=Object(o.c)(function(e){return e.chat}).activeServer,a=Object(o.b)();return Object(r.useEffect)(function(){e.isSignedIn?(a(V(e.userId)),function e(){a(_()),a(j(t.split("-")[1])),setTimeout(e,3e5)}()):M.push("/")},[a,e.isSignedIn,e.userId]),window.addEventListener("resize",function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))}),c.a.createElement("div",{className:"dashboard"},c.a.createElement("div",{className:"grid-container"},c.a.createElement("div",{className:"sidebar-grid"},c.a.createElement(ye,null)),c.a.createElement("div",{className:"messages-grid"},c.a.createElement(Ke,null),c.a.createElement(We,null)),c.a.createElement("div",{className:"user-list-grid"},c.a.createElement(Pe,null)),c.a.createElement("div",{className:"send-messages-grid"},c.a.createElement(_e,null))))}var Fe=a(270),Xe=a(267);function Ye(){var e=Object(o.b)(),t=Object(r.useState)(!0),a=Object(L.a)(t,2),n=a[0],s=a[1],i=Object(r.useState)("left"),l=Object(L.a)(i,2),u=l[0],m=l[1],E=Object(r.useState)(!1),d=Object(L.a)(E,2),f=d[0],b=d[1],h=Object(r.useState)("left"),O=Object(L.a)(h,2),C=O[0],y=O[1],N=Object(r.useState)(!1),S=Object(L.a)(N,2),I=S[0],j=S[1],_=Object(r.useState)("left"),T=Object(L.a)(_,2),A=T[0],x=T[1],k=Object(r.useState)(""),V=Object(L.a)(k,2),D=V[0],w=V[1],G=Object(r.useState)(!1),P=Object(L.a)(G,2),K=P[0],U=P[1],H=Object(r.useState)(""),B=Object(L.a)(H,2),z=B[0],F=B[1],q=Object(r.useState)(""),$=Object(L.a)(q,2),Q=$[0],Z=$[1],ee=Object(r.useState)(!1),te=Object(L.a)(ee,2),ae=te[0],re=te[1],ce=Object(r.useState)(""),se=Object(L.a)(ce,2),ie=se[0],oe=se[1],le=Object(r.useState)(!1),ue=Object(L.a)(le,2),me=ue[0],he=ue[1],Ce=function(){m("left"),s(!0),b(!1),y("right"),j(!1),x("right")},ye=function(e,t){"Enter"===e.key&&t()},Ne=function(e,t,a){var n=!1;""===e?(U(!0),F("Name cannot be empty"),n=!0):U(!1),t.length<6?(re(!0),oe("Passwords must be 6 characters"),n=!0):re(!1),n||a()},Se=function(){var t=Object(v.a)(p.a.mark(function t(a,n){var r,c;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=encodeURIComponent(a),n=encodeURIComponent(n),t.next=5,g.post("/user/create?userName=".concat(a,"&userPass=").concat(n));case 5:r=t.sent,me&&localStorage.setItem("user",JSON.stringify(r.data)),e(R(r.data)),M.push("/dashboard"),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),(c=t.t0.response.data)&&(U(!0),F(c));case 15:case"end":return t.stop()}},t,null,[[0,11]])}));return function(e,a){return t.apply(this,arguments)}}(),Ie=function(){var t=Object(v.a)(p.a.mark(function t(a,n){var r,c;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=encodeURIComponent(a),n=encodeURIComponent(n),t.prev=2,t.next=5,g.get("/user/login?userName=".concat(a,"&userPass=").concat(n));case 5:r=t.sent,me&&localStorage.setItem("user",JSON.stringify(r.data)),e(R(r.data)),M.push("/dashboard"),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),(c=t.t0.response.data)&&(U(!0),F(c),re(!0),oe(c));case 15:case"end":return t.stop()}},t,null,[[2,11]])}));return function(e,a){return t.apply(this,arguments)}}();return c.a.createElement("div",{className:"auth-wrapper"},c.a.createElement(be.a,{className:"container-prompt"},c.a.createElement(J.a,{direction:u,in:n,timeout:350,mountOnEnter:!0,unmountOnExit:!0},c.a.createElement(Ee.a,{container:!0,spacing:3,justify:"center",alignItems:"center"},c.a.createElement(Ee.a,{item:!0,sm:12,xs:12},c.a.createElement(W.a,{variant:"h5",color:"primary",align:"center"},"Create an account, or sign in!")),c.a.createElement(Ee.a,{item:!0,sm:6,xs:12},c.a.createElement(de.a,{className:"grid-card"},c.a.createElement(pe.a,{onClick:function(){return y("left"),m("right"),b(!0),void s(!1)}},c.a.createElement(ve.a,null,c.a.createElement(W.a,{variant:"h5",color:"primary",gutterBottom:!0},"Create"),c.a.createElement(W.a,{variant:"body1",paragraph:!0},"Create a new account."),c.a.createElement(fe.a,null,c.a.createElement(Oe.a,{className:"modal-card-icon"})),c.a.createElement(X.a,{variant:"contained",color:"primary"},"Create"))))),c.a.createElement(Ee.a,{item:!0,sm:6,xs:12},c.a.createElement(de.a,{className:"grid-card"},c.a.createElement(pe.a,{onClick:function(){return x("left"),m("right"),j(!0),void s(!1)}},c.a.createElement(ve.a,null,c.a.createElement(W.a,{variant:"h5",color:"secondary",gutterBottom:!0},"Login"),c.a.createElement(W.a,{variant:"body1",paragraph:!0},"Sign in to an existing account."),c.a.createElement(fe.a,null,c.a.createElement(Y.a,{className:"modal-card-icon"})),c.a.createElement(X.a,{variant:"contained",color:"secondary"},"Login"," "))))))),c.a.createElement(J.a,{direction:C,in:f,timeout:350,mountOnEnter:!0,unmountOnExit:!0},c.a.createElement(Ee.a,{container:!0,spacing:1,justify:"center",alignItems:"center"},c.a.createElement(Ee.a,{item:!0,xs:12},c.a.createElement(ne.a,{onClick:Ce},c.a.createElement(Xe.a,null)),c.a.createElement(W.a,{variant:"h5",color:"primary",align:"center"},"Create Account")),c.a.createElement(Ee.a,{item:!0,xs:12,className:"grid-textfield"},c.a.createElement(ge.a,{id:"username",label:"Username",value:D,error:K,helperText:z,onChange:function(e){return w(e.target.value)},margin:"dense",autoComplete:"off",variant:"outlined",onKeyPress:function(e){return ye(e,function(){return Ne(D,Q,function(){return Se(D,Q)})})}})),c.a.createElement(Ee.a,{item:!0,xs:12,className:"grid-textfield"},c.a.createElement(ge.a,{id:"password",label:"Password",type:"password",value:Q,error:ae,helperText:ie,onChange:function(e){return Z(e.target.value)},margin:"dense",autoComplete:"off",variant:"outlined",onKeyPress:function(e){return ye(e,function(){return Ne(D,Q,function(){return Se(D,Q)})})}})),c.a.createElement(Ee.a,{item:!0,xs:12,className:"grid-button"},c.a.createElement("div",null,"Remember Me ",c.a.createElement(Fe.a,{value:me,onChange:function(e){return he(e.target.checked)}})),c.a.createElement(X.a,{variant:"contained",color:"primary",onClick:function(){return Ne(D,Q,function(){return Se(D,Q)})}},"Create")))),c.a.createElement(J.a,{direction:A,in:I,timeout:350,mountOnEnter:!0,unmountOnExit:!0},c.a.createElement(Ee.a,{container:!0,spacing:2,justify:"center",alignItems:"center"},c.a.createElement(Ee.a,{item:!0,xs:12},c.a.createElement(ne.a,{onClick:Ce},c.a.createElement(Xe.a,null)),c.a.createElement(W.a,{variant:"h5",color:"primary",align:"center"},"Login Account")),c.a.createElement(Ee.a,{item:!0,xs:12,className:"grid-textfield"},c.a.createElement(ge.a,{id:"username",label:"Username",value:D,error:K,helperText:z,onChange:function(e){return w(e.target.value)},margin:"dense",autoComplete:"off",variant:"outlined",onKeyPress:function(e){return ye(e,function(){return Ne(D,Q,function(){return Ie(D,Q)})})}})),c.a.createElement(Ee.a,{item:!0,xs:12,className:"grid-textfield"},c.a.createElement(ge.a,{id:"password",label:"Password",type:"password",value:Q,error:ae,helperText:ie,onChange:function(e){return Z(e.target.value)},margin:"dense",autoComplete:"off",variant:"outlined",onKeyPress:function(e){return ye(e,function(){return Ne(D,Q,function(){return Ie(D,Q)})})}})),c.a.createElement(Ee.a,{item:!0,xs:12,className:"grid-button"},c.a.createElement("div",null,"Remember Me ",c.a.createElement(Fe.a,{value:me,onChange:function(e){return he(e.target.checked)}})),c.a.createElement(X.a,{className:"modal-login-button",variant:"contained",color:"primary",onClick:function(){return Ne(D,Q,function(){return Ie(D,Q)})}},"Login"))))))}var qe=function(){var e=Object(o.b)();return c.a.createElement(E.a,{theme:$e},c.a.createElement(l.a,null,function(){var t=JSON.parse(localStorage.getItem("user"));t&&(e(R(t)),M.push("/dashboard"))}(),c.a.createElement(u.a,{path:"/dashboard",exact:!0,component:ze}),c.a.createElement(u.a,{path:"/",exact:!0,component:Ye})))},$e=Object(m.a)({overrides:{MuiTooltip:{tooltip:{fontSize:"14px",backgroundColor:"black"}},MuiSnackbarContent:{root:{backgroundColor:"#202225",color:"white"}},MuiAppBar:{colorPrimary:{backgroundColor:"#36393E",position:"absolute"}}},palette:{type:"dark",primary:{main:"#7289da"},secondary:{main:"#3ca374"}},typography:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontSize:14,fontWeightLight:400,fontWeightRegular:500,fontWeightMedium:600}}),Qe=a(129),Ze=a(31),et=a(55),tt=a(13),at={servers:{"Default-FANfDprXmt":{channels:{"general-0m5vBsRnfd":[]}}},privateMessages:{},activeServer:"Default-FANfDprXmt",activeChannel:"general-0m5vBsRnfd",activeUserList:[],activeView:"servers",activePMUser:"none",voiceClients:[{userId:"",userName:""}],voiceJoinUserId:"",voiceLeaveUserId:"",rtcSignalData:{userId:""}},nt={isSignedIn:!1,isAdmin:!1,userId:"",userName:""},rt=a(36),ct=Object(rt.combineReducers)({chat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.RECEIVE_SOCKET_MESSAGE:var a=t.payload,r=a.server,c=a.channel,s=a.from,i=a.msg,o=a.date;return Object(tt.a)({},e,{servers:Object(tt.a)({},e.servers,Object(Ze.a)({},r,Object(tt.a)({},e.servers[r],{channels:Object(tt.a)({},e.servers[r].channels,Object(Ze.a)({},c,[].concat(Object(et.a)(e.servers[r].channels[c]),[{from:s,msg:i,date:o}])))})))});case n.RECEIVE_SOCKET_PRIVATE_MESSAGE:return e.privateMessages[t.payload.user]?Object(tt.a)({},e,{privateMessages:Object(tt.a)({},e.privateMessages,Object(Ze.a)({},t.payload.user,[].concat(Object(et.a)(e.privateMessages[t.payload.user]),[{from:t.payload.from,to:t.payload.to,msg:t.payload.msg,date:t.payload.date}])))}):Object(tt.a)({},e,{privateMessages:Object(tt.a)({},e.privateMessages,Object(Ze.a)({},t.payload.user,[{from:t.payload.from,to:t.payload.to,msg:t.payload.msg,date:t.payload.date}]))});case n.RECEIVE_SOCKET_JOIN_VOICE:return Object(tt.a)({},e,{voiceClients:t.payload.clients,voiceJoinUserId:t.payload.userId,voiceLeaveUserId:""});case n.RECEIVE_SOCKET_RTC_SIGNAL:return Object(tt.a)({},e,{rtcSignalData:t.payload});case n.RECEIVE_SOCKET_LEAVE_VOICE:return Object(tt.a)({},e,{voiceLeaveUserId:t.payload.userId,voiceClients:t.payload.clients});case n.CLEAR_VOICE_CONNECTION:return Object(tt.a)({},e,{voiceClients:[],voiceLeaveUserId:"",voiceJoinUserId:""});case n.ADD_CHANNEL:return Object(tt.a)({},e,{servers:Object(tt.a)({},e.servers,Object(Ze.a)({},t.payload.server,Object(tt.a)({},e.servers[t.payload.server],{channels:Object(tt.a)({},e.servers[t.payload.server].channels,Object(Ze.a)({},t.payload.channel,[]))})))});case n.ADD_SERVER:return Object(tt.a)({},e,{servers:Object(tt.a)({},e.servers,Object(Ze.a)({},t.payload.server,{channels:Object(Ze.a)({},t.payload.channel,[])}))});case n.GET_INITIAL_DATA:return Object(tt.a)({},e,{servers:t.payload.servers,privateMessages:t.payload.privateMessages,activeServer:Object.keys(t.payload.servers)[0],activeChannel:Object.keys(e.servers[Object.keys(t.payload.servers)[0]].channels)[0]});case n.CHANGE_SERVER:return Object(tt.a)({},e,{activeServer:t.payload,activeChannel:Object.keys(e.servers[t.payload].channels)[0]});case n.CHANGE_CHANNEL:return Object(tt.a)({},e,{activeChannel:t.payload});case n.CHANGE_VIEW:return Object(tt.a)({},e,{activeView:t.payload,activePMUser:Object.keys(e.privateMessages)[0]});case n.CHANGE_PM_USER:return Object(tt.a)({},e,{activePMUser:t.payload});case n.UPDATE_ACTIVE_USERS:return Object(tt.a)({},e,{activeUserList:t.payload});default:return Object(tt.a)({},e)}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.SIGN_IN:return Object(tt.a)({},e,{isSignedIn:!0,userId:t.payload.userId,userName:t.payload.userName});case n.SIGN_OUT:return Object(tt.a)({},e,{isSignedIn:!1,userId:"",userName:"",isAdmin:!1});default:return e}}}),st=a(130),it=a(131),ot=a.n(it);var lt,ut=Object(rt.createStore)(ct,Object(st.composeWithDevTools)(Object(rt.applyMiddleware)(Qe.a,(lt="https://simple-chat-apix.herokuapp.com",function(e){var t=ot()(lt);return function(a){return function(r){if(r.type!==n.SEND_SOCKET_MESSAGE){if(r.type!==n.SEND_SOCKET_PRIVATE_MESSAGE){if(r.type===n.SIGN_IN&&(t.emit("simple-chat-sign-in",r.payload),function(e,t){e.on("update",function(e){"message"===e.type?t.dispatch({type:n.RECEIVE_SOCKET_MESSAGE,payload:e.payload}):"private-message"===e.type?t.dispatch({type:n.RECEIVE_SOCKET_PRIVATE_MESSAGE,payload:e.payload}):"user-join-voice"===e.type?t.dispatch({type:n.RECEIVE_SOCKET_JOIN_VOICE,payload:e.payload}):"user-leave-voice"===e.type?t.dispatch({type:n.RECEIVE_SOCKET_LEAVE_VOICE,payload:e.payload}):"voice-signal"===e.type&&t.dispatch({type:n.RECEIVE_SOCKET_RTC_SIGNAL,payload:e.payload})})}(t,e)),r.type===n.GET_INITIAL_DATA){var c=Object.keys(r.payload.servers),s=[];c.forEach(function(e,t){s[t]=e.split("-")[1]}),s.forEach(function(e){t.emit("subscribe",e)})}if(r.type===n.ADD_SERVER){var i=r.payload.server.split("-")[1];t.emit("subscribe",i)}return r.type===n.UPDATE_ACTIVE_STATE&&t.emit("update-active"),r.type===n.SEND_SOCKET_JOIN_VOICE&&t.emit("user-join-voice",r.payload),r.type===n.SEND_SOCKET_LEAVE_VOICE&&t.emit("user-leave-voice",r.payload),r.type===n.SEND_SOCKET_RTC_SIGNAL&&t.emit("voice-signal",r.payload),a(r)}t.emit("simple-chat-private-message",r.payload)}else t.emit("simple-chat-message",r.payload)}}}))));i.a.render(c.a.createElement(o.a,{store:ut},c.a.createElement(qe,null)),document.getElementById("root"))}},[[142,1,2]]]);
//# sourceMappingURL=main.e1a62835.chunk.js.map